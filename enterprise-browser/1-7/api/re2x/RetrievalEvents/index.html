
<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Online Documentation for Zebra Technologies developer tools and utiltiescomp including EMDK for Android, EMDK for Xamarin, StageNow, Enterprise Browser.">
    <meta name="author" content="Zebra Technologies">
    <meta name="google-site-verification" content="i4B78BrWnNy8ShJwe5feRW3jO3HE6gfYlYqYbxfl8yY">
    <meta name="msvalidate.01" content="6B651B00161BCE79B8950AC09D5C4C75">
    <meta title="Retrieval Events">
    <title>Retrieval Events - Zebra Technologies TechDocs</title>
    <!-- core CSS -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/animate.min.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/owl.transitions.css" rel="stylesheet">
    <link href="/css/prettyPhoto.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/responsive.css" rel="stylesheet">
    <link href="/css/prettify.css" rel="stylesheet">
    <link href="/css/bootstrap-treenav.min.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]--> 

    <script src="//load.sumome.com/" data-sumo-site-id="699cb66cf4dc59352efb45705526d15cbe314e1cd43f7761b94d96f3cf7338e8" async="async"></script>
    <link rel="shortcut icon" href="/favicon.ico">
<script src="/js/jquery.js"></script></head><!--/head-->


<body id="home" class="homepage" data-spy="scroll" data-offset="100" data-target="#toc">

    <header id="header">
        <nav id="main-menu" class="navbar navbar-default navbar-fixed-top" role="banner">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/"><img src="/images/logo.png" alt="logo" style="max-height:42px;float: inherit;
    padding-right: 3px;"></a> 
                    
                   
                </div>
                <div class="collapse navbar-collapse navbar-left">
                    <ul class="nav navbar-nav">
                        <li class="navbar-text pull-left"><strong>TechDocs</strong></li>
                        <li class="dropdown">
                          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"> Enterprise Browser 1.7
                          <span class="caret"></span></button>
                          <ul class="dropdown-menu">
                                <li><a onclick="changeVersion('1-7','1-4','/enterprise-browser/1-7/guide/about')">Enterprise Browser 1.4</a></li>
                          </ul>
                        </li>                    
                    </ul>
                </div>
                <div class="collapse navbar-collapse navbar-right">
                    <ul class="nav navbar-nav">
                        


                        <li>
                            <a href="/enterprise-browser/1-7/guide/about">
                                    About
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/guide/gettingstarted/">
                                    Getting Started
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/tutorial/">
                                    Tutorials
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/guide/samples">
                                    Sample Apps
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/guide">
                                    Guides
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/guide/configreference">
                                    Config.xml
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/api">
                                    APIs
                            </a>
                        </li>
                        <li>
                            <a href="https://www.youtube.com/playlist?list=PLce6-npz5dKcUY98npViY6QbuL3yhAXCx">
                                    <i class="fa fa-youtube-play"></i>
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.zebra.com/community/technologies/enterprisebrowser">
                                    <i class="fa fa-comment"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/download">
                                    <i class="fa fa-download"></i>
                            </a>
                        </li>
                        <li>
                            <a href="/enterprise-browser/1-7/search">
                                    <i class="fa fa-search"></i>
                            </a>
                        </li>
                        <!-- <li ><a href="/products">SDKs</a></li>
                        <li ><a href="/samples">Samples</a></li>
                        <li ><a href="/guides">Guides</a></li>
                        <li ><a href="/tutorials">Tutorials</a></li>
                        <li ><a href="/apis">APIs</a></li> -->
                        <!-- <li><a href="#"><input type="text" class="st-default-search-input"></a></li> -->
                    </ul>
                </div>
            </div><!--/.container-->
        </nav><!--/nav-->
    </header><!--/header-->
<div class="container-fluid">
    <section id="blog">
        <div class="">
            <section class="content-with-sidebar">
            <div class="row">
                <div class="col-sm-12 ">

                    <div id="mainContent" class="row">
                        <div class="col-sm-12">
                            <div class="blog-post blog-large wow fadeInLeft" data-wow-duration="300ms" data-wow-delay="0ms">
                            <!-- Start of guide -->
                                <div class="service-box wow fadeInRight">
                                    <div class="">

<!--                         <p><p>Values are returned to the caller in RhoElements via events which will cause a navigation to a new URL to occur, a JavaScript function on the page to be invoked or in the case of a RhoElements native application, a Ruby callback function to be invoked.  Each event will in most cases have a number of parameters associated with it which will either be strings or JavaScript arrays and can be accessed in a number of ways as explained below.</p>

<h2 id="retrievaleventsyntax">Retrieval Event Syntax</h2>

<p>Retrieval tags are specified using the following notation:</p>
    <META HTTP-Equiv="[Module]" content="[RetrievalTag]:url('[URI]')">
Where [URI] can be either a URL or a JavaScript function.</p></p>

<p>As an example, VersionEvent is a return event of the Application Module and is called in response to the GetVersion() method to provide the installed version of RhoElements.  To navigate to a new URL when the version is retrieved the following syntax can be used, this will navigate to 'version.php' with the data and event contained in the query string.</p>

<pre><code>&lt;META HTTP-Equiv="Application" content="VersionEvent:url('http://www.page.com/version.php?Data=%s&amp;EventType=%6')"&gt;
</code></pre>

<p>The equivalent event handled in JavaScript is specified as follows: 
    <META HTTP-Equiv="Application" content="VersionEvent:url('JavaScript:doVersion('%s', '%6');')"></p>

<p>A JavaScript function, 'doVersion(param1, param2)' needs to be defined on the current page which will be invoked each time the version information is requested.  </p>

<p>Events can also be specified using JavaScript notation:
    application.versionEvent = "doVersion('%s', '%6');";</p>

<p>To clear an event previously defined just set it to a blank string, as below:
    application.versionEvent = "";</p>

<p>The equivalent statement in a Ruby would look something like below. In this statement we specify a callback function called versionEvent_callback. Note that in Ruby we do not have to specify a parameter. The event parameters are referenced using the @params hash tag.
    def object_init
        Application.versionEvent=url_for(:action => :versionEvent_callback)
    end</p>

<pre><code>def versionEvent_callback
    eParams = @params
    WebView.execute_js("displayMessage('Product Version : " + eParams['productVersion'] + "');")
end
</code></pre>

<h2 id="eventparameters">Event Parameters</h2>

<p>Most events have parameters associated with them and these are detailed alongside the event in this help documentation.  E.g. the VersionEvent has the following parameters:</p>

<table class="re-table">
<col width="3%">
<col width="20%">
<col width="77%">
<tr>
<th class="syntaxHeadings">ID</th>
<th class="syntaxHeadings">Name</th>
<th class="syntaxHeadings">Description</th>
</tr>
<tr>
<td class="syntaxCells evenRow" valign="top">1</td>
<td class="syntaxCells evenRow" valign="top"><b>productVersion</b></td>
<td class="syntaxCells evenRow" style="text-align:left;">A string defining the released version running on the device, this will be in the form v.w.x.y.  E.g. 1.0.0.0</td>
</tr>
<tr>
<td class="syntaxCells" valign="top">2</td>
<td class="syntaxCells" valign="top"><b>hotFixes</b></td>
<td class="syntaxCells" style="text-align:left;">A JavaScript array of strings containing the hot fixes applied.  There may have been multiple hot fixes applied, e.g. ['1','3']</td>
</tr>
<tr>
<td class="syntaxCells evenRow" valign="top">3</td>
<td class="syntaxCells evenRow" valign="top"><b>componentVersions (Module, Version)</b></td>
<td class="syntaxCells evenRow" style="text-align:left;">A 2 dimensional array of strings which defined a mapping between each of the installed plugins' name and their version.  E.g. [['Scanner','1.0.0.0.0'],['CardReader','1.0.0.0.0']]</td>
</tr>
</table>

<h2 id="jsonobjects">JSON Objects:</h2>

<p>To access the event parameters via a JSON object use the %json placeholder when declaring the event, e.g.
    <META HTTP-Equiv="Application" content="VersionEvent:url('JavaScript:doVersion(%json);')"></p>

<p>will call the function 'doVersion' as follows:
    function doVersion(jsonObject)
    {
        //  Use JSON object parameter in this function
        jsonObject.productVersion;
        jsonObject.hotFixes;
        jsonObject.componentVersions;
    }</p>

<p>JSON objects are always comprised as a string and a value, the strings to access each value are the parameter names as specified in this help document, i.e. productVersion, hotFixes and componentVersions in this example.  See the 'JSON Overview in RhoElements' section for more detail of how JSON is handled in RhoElements.</p>

<h3 id="snotation">%s Notation:</h3>

<p>To access the event parameters in a sequential fashion the %s placeholder can be used when declaring the event, e.g.
    <META HTTP-Equiv="Application" content="VersionEvent:url('JavaScript:doVersion('%s', %s);')"></p>

<p>will call the function 'doVersion' as follows:
    function doVersion(productVersion, hotFixes)
    {
        //  Use parameters in this function
    }</p>

<p>Note that string parameters are declared as '%s' and JS arrays are declared as %s (without quotes).  In order to maintain compabitility with URLs, any data in the return event containing a '%' sign will be escaped to '%25', the JavaScript function 'unescape()' can be used to undo this on your returned data.</p>

<h2 id="numbernotation">%number Notation:</h2>

<p>To access the event parameters directly the %number placeholder can be used when declaring the event, e.g.
    <META HTTP-Equiv="Application" content="VersionEvent:url('JavaScript:doVersion('%1', %3);')"></p>

<p>will call the function 'doVersion' as follows:
    function doVersion(productVersion, componentVersions)
    {
        //  Use parameters in this function
    }</p>

<p>note that string parameters are declared as '%number' and JS arrays are declared as %number (without quotes).</p>

<h2 id="paramsobject">@params Object:</h2>

<p>To access the event parameters in a Ruby callback function, you reference the @params object within the callback function. This object is simply a ruby hash {"parameter1 name" => "parameter1 value", "parameter2 name" => "parameter2 value", ...}
    def object_init
        Application.versionEvent=url_for(:action => :versionEvent_callback)
    end</p>

<pre><code>def versionEvent_callback
    eParams = @params
    sproductVersion = eParams['productVersion']
    shotFixes = eParams['hotFixes']
    #do something
end
</code></pre>

<h2 id="jsonoverviewinrhoelements">JSON Overview in RhoElements</h2>

<p>JSON (JavaScript Object notation) is a way of expressing objects within JavaScript, at its simplest level it can be considered a collection of name / value pairs and value lists.  For a more formal description of JSON objects see <a href="http://www.json.org">http://www.json.org</a></p>

<p>RhoElements events can receive a JSON object as a parameter.  The data structures contained in that object can be one of three types, each one of which is exhibited by the VersionEvent:</p>

<table class="re-table">
<tr><th class="syntaxHeadings">JavaScript Data Structure</th><th class="syntaxHeadings">JSON Equivalent</th><th class="syntaxHeadings">Example in VersionEvent</th></tr>
<tr><td class="syntaxCells">Simple Values</td><td class="syntaxCells">In JSON these are specified as Name:Value</td><td class="syntaxCells">productVersion</td></tr>
<tr><td class="syntaxCells evenRow">Array Values</td><td class="syntaxCells evenRow">In JSON these are specified as Name:[Value, Value, Value, Value]</td><td class="syntaxCells evenRow">potFixes</td></tr>
<tr><td class="syntaxCells">2D Array Values</td><td class="syntaxCells">In JSON these are specified as Name:[Object with name value pairs, Object with name value pairs]</td><td class="syntaxCells">componentVersions</td></tr>
</table>

<p>The JSON object returned in the VersionEvent is encoded thusly (and is shown populated with example data)
    {
      productVersion    :  '1.2.3.4',
      hotFixes      :  ['1','4'],
      componentVersions  :  [
                    {
                      'Module'  :  'Timer',
                      'Version'  :  '1.0.6.0.1'
                    },
                    {
                      'Module'  :  'Scanner',
                      'Version'  :  '1.0.6.0.4'
                    }
                  ]
    }</p>

<p>The following example code shows how to access the different data structures in the JSON object:</p>

<pre><code>function doVersion(jsonObject)
{
    var theOutput = "Product Version: " + &lt;b&gt;jsonObject.productVersion&lt;/b&gt; + "&amp;lt;P&amp;gt;";
    theOutput = theOutput + "Hot Fixes:&amp;lt;P&amp;gt;";
    for (var i=0; i&amp;lt;&lt;b&gt;jsonObject.hotFixes.length&lt;/b&gt;; i = i + 1)
    {
        theOutput = theOutput + " Hot Fix: " + &lt;b&gt;jsonObject.hotFixes[i]&lt;/b&gt; + "&amp;lt;BR /&amp;gt;";
    }
    theOutput = theOutput + "&amp;lt;P&amp;gt;Installed Components:&amp;lt;P&amp;gt;";
    for (var j=0; j&amp;lt;&lt;b&gt;jsonObject.componentVersions.length&lt;/b&gt;; j = j + 1)
    {
        theOutput = theOutput + " Module: " + &lt;b&gt;jsonObject.componentVersions[j].module&lt;/b&gt; + 
                            ', Version: ' + &lt;b&gt;jsonObject.componentVersions[j].version&lt;/b&gt; + "&amp;lt;BR /&amp;gt;";
    }
    outputDiv.innerHTML = theOutput;
}
</code></pre></p>
 -->                        

<h2 id="redirecting-to-techdocs-archive-site" class="anchor"><a class="heading-anchor" href="#redirecting-to-techdocs-archive-site"><span></span></a>Redirecting to TechDocs archive site...</h2> 


                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div><!--/.col-sm-6-->
            </div>
            </section>
        </div>
    </section>    


<div class="modal fade" id="basicModal" tabindex="-1" role="dialog" aria-labelledby="basicModal" aria-hidden="true" data-backdrop="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
					</div>
					<div class="modal-body">
						<div id="modalImg">
						
						</div>
					</div>
			</div>
		  </div>
		</div>
    <script>

    var new_domain = "zebra-techdocs-archive.netlify.app";
    var old_domain = window.location.host;
    var current_href = window.location.href;
    var new_href = current_href.replace(old_domain,new_domain);
    window.location = new_href;

    </script>
                                        
</div></body></html>